{% extends "rpm_layout.html" %}
{% block body %}
<ul class=differences>
{% for id_comp, comp in comparison.items() %}
  <h3>Comparison</h3>
  <table>
    <tr>
      <td>Comparison</td>
      <td>{{ id_comp }}</td>
    </tr>
    <tr>
      <td>Package 1</td>
      <td>{{ comp['pkg1']['filename'] }}</td>
    </tr>
    <tr>
    <tr>
      <td>Package 2</td>
      <td>{{ comp['pkg2']['filename'] }}</td>
    </tr>
    <tr>
      <td>State</td>
      <td>{{ comp['state'] }}</td>
    </tr>
  </table>

  <h3>Tags</h3>
  <table>
    <tr>
      <th>Id</th>
      <th>Type</th>
      <th>Diff</th>
    </tr>
    {% for diff in comp['differences'] if diff['category'] == CATEGORY_STRINGS[CATEGORY_TAGS] %}
    <tr>
      <td>{{ diff['id'] }}</td>
      <td>{{ diff['diff_type'] }}</td>
      <td>{{ diff['diff'] }}</td>
    </tr>
    {% endfor %}
  </table>

  <h3>PRCO</h3>
  <table>
    <tr>
      <th>Id</th>
      <th>Type</th>
      <th>Diff</th>
    </tr>
    {% for diff in comp['differences'] if diff['category'] == CATEGORY_STRINGS[CATEGORY_PRCO] %}
    <tr>
      <td>{{ diff['id'] }}</td>
      <td>{{ diff['diff_type'] }}</td>
      <td>{{ diff['diff'] }}</td>
    </tr>
    {% endfor %}
  </table>

  <h3>Files</h3>
  <table>
    <tr>
      <th>Id</th>
      <th>Type</th>
      <th>Diff</th>
      <th>Info</th>
    </tr>
    {% for diff in comp['differences'] if diff['category'] == CATEGORY_STRINGS[CATEGORY_FILES] %}
    <tr>
      <td>{{ diff['id'] }}</td>
      <td>{{ diff['diff_type'] }}</td>
      <td>{{ diff['diff'] }}</td>
      <td>{% if diff['diff_info'] %}{{ diff['diff_info'] }}{% endif %}</td>
    </tr>
    {% endfor %}
  </table>
</ul>
<a href="{{ url_for('rpmdiff.show_comparisons') }}">Go back</a>

{% endfor %}
{% endblock %}
